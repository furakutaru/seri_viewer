# セリ市ビューワー 実装TODO

## Phase 1: データベース・初期データ取り込み（完了）
- [x] Drizzleスキーマ設計・実装（horses, userCheckItems, userChecks, userCheckResults, popularityStats）
- [x] マイグレーション実行（pnpm db:push）
- [x] サンプルセリデータ取り込みスクリプト作成（Webカタログ解析、PDF解析）
- [x] API: セリ一覧取得、馬一覧取得（フィルタリング対応）

## Phase 2: 一覧画面・フィルタリング・ソート（完了）
- [x] 一覧画面UI実装（テーブル形式）
- [x] フィルタリングUI実装（父、牧場、即尺範囲、評価、消フラグ）
- [x] ソート機能実装（スコア、父、牧場など）
- [x] 一覧でのクイック評価更新UI（◎○△、消フラグ）

## Phase 3: 詳細ビューワー・シームレスナビゲーション（完了）
- [x] 2分割画面レイアウト実装（左：情報、右：血統PDF）
- [x] 写真・動画プレイヤー実装
- [x] 即尺データ表示
- [x] 評価機能（◎○△、消フラグ）実装
- [x] メモ機能実装
- [x] JBIS検索リンク実装

## Phase 4: チェックリスト・スコアリング機能（完了）
- [x] バックエンド: チェックリスト項目CRUD API実装
- [x] バックエンド: チェック結果保存・更新API実装
- [x] バックエンド: スコア計算ロジック実装
- [x] フロントエンド: チェックリスト管理UI実装（展開/折りたたみ）
- [x] フロントエンド: 評価項目追加・編集機能実装
- [x] フロントエンド: 詳細画面へのチェックリスト表示
- [x] フロントエンド: スコア計算・リアルタイム更新

## Phase 5: 比較機能（完了）
- [x] バックエンド: 複数馬の情報取得API実装
- [x] フロントエンド: 比較画面コンポーネント作成
- [x] フロントエンド: 馬選択・チェック機能実装
- [x] フロントエンド: 比較画面での評価更新機能
- [x] フロントエンド: ◎だけ表示などのフィルタリング機能
- [x] 一覧画面から比較画面へのリンク追加

## Phase 6: 前/次ナビゲーション（完了）
- [x] 詳細画面での前/次ボタン実装
- [x] 前/次馬取得API実装
- [x] ナビゲーションテスト作成

## Phase 7: Webカタログ・PDF自動解析機能（完了）
- [x] Webカタログ解析スクリプト作成（HTMLスクレイピング）
- [x] PDF即尺データ抽出スクリプト作成
- [x] データ取り込み管理UI実装
- [x] バックエンドAPI実装
- [x] 自動解析テスト作成

## Phase 8: 統計・可視化ダッシュボード機能（完了）
- [x] 統計ダッシュボードページコンポーネント作成
- [x] 人気度可視化チャート実装（◎○△の集計表示）
- [x] 一覧画面への統計情報統合
- [x] ダッシュボード用API実装
- [x] テスト作成

## Phase 9: 実データでの動作確認・調整（進行中）
- [x] Webカタログ解析テスト（実URL）
- [x] PDF即尺データ抽出テスト（複数PDFで検証）
- [ ] データ統合テスト・検証
- [ ] 実装調整・バグ修正

## Phase 10: 最終調整・テスト・デプロイ
- [ ] UI/UX調整（レスポンシブ対応、PC・タブレット）
- [ ] パフォーマンス最適化
- [ ] 全機能の統合テスト
- [ ] エラーハンドリング・ユーザーフィードバック
- [ ] ドキュメント作成
- [ ] チェックポイント作成・デプロイ準備
